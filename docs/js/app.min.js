// @ts-nocheck
document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"}),document.getElementById("mobile-menu").classList.add("hidden")}))})),document.getElementById("mobile-menu-button").addEventListener("click",(function(){document.getElementById("mobile-menu").classList.toggle("hidden")})),document.querySelectorAll(".card-hover").forEach((e=>{e.addEventListener("mouseenter",(function(){this.style.transform="translateY(-8px) scale(1.02)"})),e.addEventListener("mouseleave",(function(){this.style.transform="translateY(0) scale(1)"}))})),document.getElementById("contact-form").addEventListener("submit",(async function(e){e.preventDefault();const t=document.getElementById("form-message");t.textContent="Sending message...",t.classList.remove("text-green-500","text-red-500"),t.classList.add("text-tech-blue");const n=new FormData(e.target);Object.fromEntries(n.entries());try{await new Promise((e=>setTimeout(e,1500))),t.textContent="Message sent successfully! We will get back to you soon.",t.classList.remove("text-tech-blue"),t.classList.add("text-tech-green"),e.target.reset()}catch(e){console.error("Error submitting form:",e),t.textContent="Failed to send message. Please try again later or contact us directly.",t.classList.remove("text-tech-blue"),t.classList.add("text-red-500")}}));const chatbotToggle=document.getElementById("chatbot-toggle"),chatbotContainer=document.getElementById("chatbot-container"),chatbotCloseButton=document.getElementById("chatbot-close"),chatbotMessages=document.getElementById("chatbot-messages"),chatbotInput=document.getElementById("chatbot-input"),chatbotSendButton=document.getElementById("chatbot-send"),adminPanel=document.getElementById("admin-panel"),adminQuestionInput=document.getElementById("admin-question"),adminIntentInput=document.getElementById("admin-intent"),adminAnswerInput=document.getElementById("admin-answer"),adminAddQaButton=document.getElementById("admin-add-qa"),adminClearQaButton=document.getElementById("admin-clear-qa"),adminMessageDiv=document.getElementById("admin-message");function loadChatbotData(){try{const e=localStorage.getItem("chatbotTrainingData"),t=localStorage.getItem("chatbotIntentAnswers");e&&t?(trainingData=JSON.parse(e),intentAnswers=JSON.parse(t)):(trainingData=[{question:"hello",intent:"greeting"},{question:"hi there",intent:"greeting"},{question:"hey",intent:"greeting"},{question:"good morning",intent:"greeting"},{question:"good afternoon",intent:"greeting"},{question:"good evening",intent:"greeting"},{question:"how are you",intent:"bot_status"},{question:"how are things going",intent:"bot_status"},{question:"what's up",intent:"greeting"},{question:"howdy",intent:"greeting"},{question:"greetings",intent:"greeting"},{question:"are you there",intent:"greeting"},{question:"anyone home",intent:"greeting"},{question:"can you hear me",intent:"greeting"},{question:"Hie",intent:"greeting"},{question:"what services do you offer",intent:"services_overview"},{question:"what do you guys do",intent:"services_overview"},{question:"can you list your services",intent:"services_overview"},{question:"what kind of work do you do",intent:"services_overview"},{question:"what can you help me with",intent:"services_overview"},{question:"tell me about your offerings",intent:"services_overview"},{question:"what all services are available",intent:"services_overview"},{question:"what's your expertise",intent:"services_overview"},{question:"what solutions do you provide",intent:"services_overview"},{question:"what do you do",intent:"services_overview"},{question:"tell me about web design",intent:"service_web_design"},{question:"do you make websites",intent:"service_web_design"},{question:"can you design a site for me",intent:"service_web_design"},{question:"can you design a website for me",intent:"service_web_design"},{question:"can you design a web site for me",intent:"service_web_design"},{question:"website creation",intent:"service_web_design"},{question:"do you offer web design services",intent:"service_web_design"},{question:"I need a new website",intent:"service_web_design"},{question:"I need a website",intent:"service_web_design"},{question:"web development design",intent:"service_web_design"},{question:"responsive website design",intent:"service_web_design"},{question:"website redesign",intent:"service_web_design"},{question:"landing page design",intent:"service_web_design"},{question:"web app development details",intent:"service_web_app_development"},{question:"do you build web applications",intent:"service_web_app_development"},{question:"custom web app development",intent:"service_web_app_development"},{question:"I need a web application built",intent:"service_web_app_development"},{question:"can you develop web apps",intent:"service_web_app_development"},{question:"enterprise web solutions",intent:"service_web_app_development"},{question:"front-end development",intent:"service_web_app_development"},{question:"back-end development",intent:"service_web_app_development"},{question:"full-stack development",intent:"service_web_app_development"},{question:"SaaS development",intent:"service_web_app_development"},{question:"can you help with IT support",intent:"service_it_support"},{question:"do you provide remote IT assistance",intent:"service_it_support"},{question:"I need technical support",intent:"service_it_support"},{question:"computer troubleshooting",intent:"service_it_support"},{question:"remote tech help",intent:"service_it_support"},{question:"IT consulting",intent:"service_it_support"},{question:"network support",intent:"service_it_support"},{question:"system maintenance",intent:"service_it_support"},{question:"software installation support",intent:"service_it_support"},{question:"security support",intent:"service_it_support"},{question:"do you offer hosting",intent:"service_hosting"},{question:"can you help with domain registration",intent:"service_hosting"},{question:"web hosting services",intent:"service_hosting"},{question:"email hosting options",intent:"service_hosting"},{question:"I need a domain name",intent:"service_hosting"},{question:"website hosting",intent:"service_hosting"},{question:"register a domain",intent:"service_hosting"},{question:"business email setup",intent:"service_hosting"},{question:"affordable hosting",intent:"service_hosting"},{question:"whatsapp bot info",intent:"service_whatsapp_bot"},{question:"can you build a whatsapp bot",intent:"service_whatsapp_bot"},{question:"whatsapp automation",intent:"service_whatsapp_bot"},{question:"chatbot for whatsapp",intent:"service_whatsapp_bot"},{question:"I want a whatsapp chatbot",intent:"service_whatsapp_bot"},{question:"automated whatsapp messages",intent:"service_whatsapp_bot"},{question:"whatsapp business integration",intent:"service_whatsapp_bot"},{question:"customer service automation",intent:"service_whatsapp_bot"},{question:"what about systems development",intent:"service_systems_development"},{question:"do you do custom software development",intent:"service_systems_development"},{question:"software system integration",intent:"service_systems_development"},{question:"can you build a new system for us",intent:"service_systems_development"},{question:"enterprise software",intent:"service_systems_development"},{question:"custom business solutions",intent:"service_systems_development"},{question:"database development",intent:"service_systems_development"},{question:"workflow automation software",intent:"service_systems_development"},{question:"legacy system modernization",intent:"service_systems_development"},{question:"android application development",intent:"service_android_app_development"},{question:"do you develop mobile apps",intent:"service_android_app_development"},{question:"can you make an android app",intent:"service_android_app_development"},{question:"mobile app development",intent:"service_android_app_development"},{question:"I need an app for my phone",intent:"service_android_app_development"},{question:"create mobile applications",intent:"service_android_app_development"},{question:"custom android apps",intent:"service_android_app_development"},{question:"android app design",intent:"service_android_app_development"},{question:"how can I contact you",intent:"contact_info"},{question:"what are your contact details",intent:"contact_info"},{question:"phone number",intent:"contact_info"},{question:"email address",intent:"contact_info"},{question:"get in touch",intent:"contact_info"},{question:"how to reach you",intent:"contact_info"},{question:"where can I find your contact info",intent:"contact_info"},{question:"I want to talk to someone",intent:"contact_info"},{question:"thank you",intent:"thanks"},{question:"thanks a lot",intent:"thanks"},{question:"cheers",intent:"thanks"},{question:"bye",intent:"farewell"},{question:"goodbye",intent:"farewell"},{question:"see you",intent:"farewell"},{question:"talk soon",intent:"farewell"},{question:"have a good one",intent:"farewell"},{question:"what is your name",intent:"bot_identity"},{question:"who are you",intent:"bot_identity"},{question:"are you a bot",intent:"bot_identity"},{question:"what is your purpose",intent:"bot_identity"},{question:"who created you",intent:"bot_identity"},{question:"what do you do",intent:"bot_identity"}],intentAnswers={greeting:"Hi there! How can I help you today?",bot_status:"I'm a bot, so I don't have feelings, but I'm ready to assist you!",services_overview:"We offer Web Design, Web App Development, Remote IT Support, Email & Web Hosting, WhatsApp Bot Development, Systems Development, and Android App Development. Is there a specific service you'd like to know more about?",service_web_design:"Our web design services focus on creating visually stunning, user-friendly, and responsive websites that capture your brand's essence and engage your audience.",service_web_app_development:"We build robust, scalable, and custom web applications tailored to your specific business needs using modern frameworks and technologies.",service_it_support:"We provide efficient and secure remote technical assistance, troubleshooting, and maintenance to keep your systems running smoothly.",service_hosting:"We offer reliable email hosting, hassle-free domain registration, and secure web hosting solutions to establish your online presence.",service_whatsapp_bot:"We automate customer interactions, streamline support, and enhance engagement with custom-built WhatsApp chatbots.",service_systems_development:"We design and develop custom software solutions, integrate complex systems, and optimize workflows for enhanced efficiency.",service_android_app_development:"We create high-performance, intuitive, and feature-rich Android applications that deliver exceptional user experiences.",contact_info:"You can reach us via the contact form on this page, or by email at your.email@example.com, or phone at +263778040497.",thanks:"You're welcome! Feel free to ask if you have more questions.",farewell:"Goodbye! Have a great day.",bot_identity:"I am TC Chatbot, here to assist you with inquiries about Tanaka Chinengundu's consulting services."},saveChatbotData())}catch(e){console.error("Error loading chatbot data from localStorage:",e),trainingData=[],intentAnswers={}}}function saveChatbotData(){try{localStorage.setItem("chatbotTrainingData",JSON.stringify(trainingData)),localStorage.setItem("chatbotIntentAnswers",JSON.stringify(intentAnswers))}catch(e){console.error("Error saving chatbot data to localStorage:",e)}}async function trainChatbot(){if(adminMessageDiv.textContent="Training chatbot...",adminMessageDiv.style.color="#0ea5e9",0===trainingData.length)return adminMessageDiv.textContent="No training data available. Chatbot will use basic fallback.",adminMessageDiv.style.color="#f59e0b",void(chatbotNet=null);chatbotNet=new brain.NeuralNetwork,vocabulary=generateVocabulary(trainingData);const e=getAllIntents(trainingData),t=trainingData.map((t=>({input:getBagOfWordsVector(t.question,vocabulary),output:getIntentOutputVector(t.intent,e)})));try{await chatbotNet.train(t,{iterations:1e3,errorThresh:.002,log:!0,logPeriod:10}),adminMessageDiv.textContent="Chatbot trained successfully!",adminMessageDiv.style.color="#10b981",console.log("Chatbot trained successfully!")}catch(e){adminMessageDiv.textContent="Chatbot training failed. See console for details.",adminMessageDiv.style.color="#ef4444",console.error("Chatbot training error:",e)}}function addMessage(e,t,n=!1){const i=document.createElement("div");return i.classList.add("chatbot-message",t),n?(i.classList.add("typing-indicator"),i.innerHTML="<span></span><span></span><span></span>"):i.textContent=e,chatbotMessages.appendChild(i),chatbotMessages.scrollTop=chatbotMessages.scrollHeight,i}function getBotResponse(e){if(!chatbotNet||0===trainingData.length)return"I'm experiencing some difficulties. Please try again later or contact us directly.";const t=getBagOfWordsVector(e,vocabulary),n=chatbotNet.run(t),i=getAllIntents(trainingData),o=getBestIntent(n,i);let s=0;for(const e of i)n[e]&&n[e]>s&&(s=n[e]);return s<.3||!intentAnswers[o]?"I'm sorry, I don't quite understand. Could you please rephrase your question or ask about our main services?":intentAnswers[o]||"I don't have an answer for that yet. Please try rephrasing."}chatbotSendButton.addEventListener("click",(()=>{const e=chatbotInput.value.trim();if(e){addMessage(e,"user"),chatbotInput.value="";const t=addMessage("","bot",!0);setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t);addMessage(getBotResponse(e),"bot")}),4e3)}})),chatbotInput.addEventListener("keypress",(e=>{"Enter"===e.key&&chatbotSendButton.click()})),chatbotToggle.addEventListener("click",(()=>{chatbotContainer.classList.toggle("active"),chatbotContainer.classList.contains("active")?(chatbotToggle.classList.add("hidden-toggle"),chatbotInput.focus(),chatbotMessages.scrollTop=chatbotMessages.scrollHeight):chatbotToggle.classList.remove("hidden-toggle")})),chatbotCloseButton.addEventListener("click",(()=>{chatbotContainer.classList.remove("active"),chatbotToggle.classList.remove("hidden-toggle")})),adminAddQaButton.addEventListener("click",(async()=>{const e=adminQuestionInput.value.trim(),t=adminIntentInput.value.trim(),n=adminAnswerInput.value.trim();e&&t&&n?(trainingData.push({question:e,intent:t}),intentAnswers[t]=n,saveChatbotData(),adminMessageDiv.textContent="Training chatbot...",adminMessageDiv.style.color="#0ea5e9",await trainChatbot(),adminQuestionInput.value="",adminIntentInput.value="",adminAnswerInput.value="",adminMessageDiv.textContent="Q&A added and chatbot retrained!",adminMessageDiv.style.color="#10b981",addMessage(`Admin: Added new data for intent '${t}'.`,"bot"),console.log("Training data updated:",trainingData,intentAnswers)):(adminMessageDiv.textContent="Please fill all fields (Question, Intent, Answer).",adminMessageDiv.style.color="#ef4444")})),adminClearQaButton.addEventListener("click",(async()=>{confirm("Are you sure you want to clear ALL chatbot training data? This cannot be undone.")&&(trainingData=[],intentAnswers={},saveChatbotData(),adminMessageDiv.textContent="Training chatbot...",adminMessageDiv.style.color="#0ea5e9",await trainChatbot(),adminMessageDiv.textContent="All training data cleared!",adminMessageDiv.style.color="#ef4444",addMessage("Admin: All training data cleared. Chatbot reset.","bot"),console.log("Training data cleared."))}));const briefProjectIdeaInput=document.getElementById("brief-project-idea"),expandedProjectIdeaContainer=document.getElementById("expanded-project-idea-container"),expandedProjectIdeaTextarea=document.getElementById("expanded-project-idea"),projectIdeaLoading=document.getElementById("project-idea-loading"),mainMessageTextarea=document.getElementById("message"),geminiErrorMessageDiv=document.getElementById("gemini-error-message");document.addEventListener("DOMContentLoaded",(async()=>{loadChatbotData(),addMessage("Hello! I'm TC Consulting's chatbot. Please wait a moment while I'm getting ready...","bot"),await trainChatbot(),addMessage("I'm ready! How can I help you today?","bot")}));